const express = require('express');
app = express();

var bodyParser = require("body-parser");
app.use(bodyParser.json());


require('dotenv').config()

var data = {
    amount: 100,

    gift: [
        {
            id: uniqID(),
            price: '40',
            imgSrc: 'https://lh3.googleusercontent.com/proxy/wjZaJw1BRG0fe2Ol4UrVmJM7d9bB49iALQSUkelseO7wI0JyDQ0DL9lKB46PZqf5_FBpR1flxNbFrNe2YWX1rEteOd9VSUtR9vEiVeZXGIDhA8FmJ76uPC8BmVlPp1lznNMPRzAfZ5FNOWdM'
        },
        {
            id: uniqID(),
            price: '40',
            imgSrc: 'data:image/jpeg;base64,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'
        }
    ],

    card: []
}



app.get('/giftAmount', (req, res) => {
    res.send(data);
})

app.post('/add', (req, res) => {
    data.card.push(req.body.price);
    if(data.amount > req.body.price){
        data.card.push(req.body.id);
        data.amount = data.amount - req.body.price;
    }
    else{
        res.send({status:'no'});
    }

    console.log(data.amount);
})

function uniqID() {
    var k = Math.floor(Math.random() * 1000000);
    return k;
}

const PORT = process.env.PORT || 3006;

app.listen(PORT, () => {
    console.log(`Listening on Port: ${PORT}`);
})